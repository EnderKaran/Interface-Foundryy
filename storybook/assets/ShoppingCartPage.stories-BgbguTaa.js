import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{r}from"./iframe-DNdZ6uLI.js";import{M as G,g as K,u as H,P as O,h as W,b as U,L as X,e as j}from"./proxy-C3A1SfrB.js";import{c as Q,d as q}from"./index-CW4uaMUQ.js";import{L as Y,S as J,M as Z}from"./index-8a4XrGZo.js";import"./preload-helper-PPVm8Dsz.js";import"./iconBase-CiZTOTHG.js";function $(t,i){if(typeof t=="function")return t(i);t!=null&&(t.current=i)}function ee(...t){return i=>{let n=!1;const l=t.map(c=>{const s=$(c,i);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let c=0;c<l.length;c++){const s=l[c];typeof s=="function"?s():$(t[c],null)}}}}function te(...t){return r.useCallback(ee(...t),t)}class ne extends r.Component{getSnapshotBeforeUpdate(i){const n=this.props.childRef.current;if(n&&i.isPresent&&!this.props.isPresent){const l=n.offsetParent,c=K(l)&&l.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=c-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function ie({children:t,isPresent:i,anchorX:n,root:l}){const c=r.useId(),s=r.useRef(null),a=r.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:f}=r.useContext(G),u=te(s,t?.ref);return r.useInsertionEffect(()=>{const{width:d,height:m,top:o,left:h,right:g}=a.current;if(i||!s.current||!d||!m)return;const b=n==="left"?`left: ${h}`:`right: ${g}`;s.current.dataset.motionPopId=c;const x=document.createElement("style");f&&(x.nonce=f);const v=l??document.head;return v.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${c}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${m}px !important;
            ${b}px !important;
            top: ${o}px !important;
          }
        `),()=>{v.contains(x)&&v.removeChild(x)}},[i]),e.jsx(ne,{isPresent:i,childRef:s,sizeRef:a,children:r.cloneElement(t,{ref:u})})}const se=({children:t,initial:i,isPresent:n,onExitComplete:l,custom:c,presenceAffectsLayout:s,mode:a,anchorX:f,root:u})=>{const d=H(ae),m=r.useId();let o=!0,h=r.useMemo(()=>(o=!1,{id:m,initial:i,isPresent:n,custom:c,onExitComplete:g=>{d.set(g,!0);for(const b of d.values())if(!b)return;l&&l()},register:g=>(d.set(g,!1),()=>d.delete(g))}),[n,d,l]);return s&&o&&(h={...h}),r.useMemo(()=>{d.forEach((g,b)=>d.set(b,!1))},[n]),r.useEffect(()=>{!n&&!d.size&&l&&l()},[n]),a==="popLayout"&&(t=e.jsx(ie,{isPresent:n,anchorX:f,root:u,children:t})),e.jsx(O.Provider,{value:h,children:t})};function ae(){return new Map}const N=t=>t.key||"";function z(t){const i=[];return r.Children.forEach(t,n=>{r.isValidElement(n)&&i.push(n)}),i}const S=({children:t,custom:i,initial:n=!0,onExitComplete:l,presenceAffectsLayout:c=!0,mode:s="sync",propagate:a=!1,anchorX:f="left",root:u})=>{const[d,m]=W(a),o=r.useMemo(()=>z(t),[t]),h=a&&!d?[]:o.map(N),g=r.useRef(!0),b=r.useRef(o),x=H(()=>new Map),[v,L]=r.useState(o),[k,R]=r.useState(o);U(()=>{g.current=!1,b.current=o;for(let y=0;y<k.length;y++){const p=N(k[y]);h.includes(p)?x.delete(p):x.get(p)!==!0&&x.set(p,!1)}},[k,h.length,h.join("-")]);const E=[];if(o!==v){let y=[...o];for(let p=0;p<k.length;p++){const C=k[p],P=N(C);h.includes(P)||(y.splice(p,0,C),E.push(C))}return s==="wait"&&E.length&&(y=E),R(z(y)),L(o),null}const{forceRender:T}=r.useContext(X);return e.jsx(e.Fragment,{children:k.map(y=>{const p=N(y),C=a&&!d?!1:o===k||h.includes(p),P=()=>{if(x.has(p))x.set(p,!0);else return;let D=!0;x.forEach(V=>{V||(D=!1)}),D&&(T?.(),R(b.current),a&&m?.(),l&&l())};return e.jsx(se,{isPresent:C,initial:!g.current||n?void 0:!1,custom:i,presenceAffectsLayout:c,mode:s,root:u,onExitComplete:C?void 0:P,anchorX:f,children:y},p)})})},A=r.createContext(),re=()=>r.useContext(A),I=({children:t})=>{const[i,n]=r.useState([]),l=r.useCallback(c=>{const s=Date.now();n(a=>[...a,{id:s,message:c}]),setTimeout(()=>{n(a=>a.filter(f=>f.id!==s))},3e3)},[]);return e.jsxs(A.Provider,{value:{addNotification:l},children:[t,e.jsx(oe,{notifications:i})]})},oe=({notifications:t})=>e.jsx("div",{className:"fixed top-4 right-4 z-[100] space-y-2",children:e.jsx(S,{children:t.map(i=>e.jsx(j.div,{layout:!0,initial:{opacity:0,y:-50,scale:.5},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,x:100,scale:.5},transition:{type:"spring",stiffness:300,damping:25},className:"bg-green-500 text-white font-bold px-6 py-3 rounded-lg shadow-lg",children:i.message},i.id))})});I.__docgenInfo={description:"",methods:[],displayName:"NotificationProvider"};const _=r.createContext(),M=()=>r.useContext(_),B=({children:t})=>{const[i,n]=r.useState([]),{addNotification:l}=re(),c=u=>{n(d=>d.find(o=>o.id===u.id)?d.map(o=>o.id===u.id?{...o,quantity:o.quantity+1}:o):[...d,{...u,quantity:1}]),l(`${u.name} sepete eklendi!`)},s=u=>{const d=i.find(m=>m.id===u);d&&l(`${d.name} sepetten çıkarıldı.`),n(m=>m.filter(o=>o.id!==u))},f={items:i,addToCart:c,removeFromCart:s,updateQuantity:(u,d)=>{d<=0?s(u):n(m=>m.map(o=>o.id===u?{...o,quantity:d}:o))}};return e.jsx(_.Provider,{value:f,children:t})};B.__docgenInfo={description:"",methods:[],displayName:"CartProvider"};const le=[{id:1,name:"Fütüristik Kulaklık",price:250,image:"https://images.unsplash.com/photo-1644938369713-8827e218a2ec?q=80&w=1170&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{id:2,name:"Mekanik Klavye",price:180,image:"https://images.unsplash.com/photo-1618384887929-16ec33fab9ef?q=80&w=2070&auto=format&fit=crop"},{id:3,name:"Akıllı Saat",price:320,image:"https://images.unsplash.com/photo-1546868871-7041f2a55e12?q=80&w=1964&auto=format&fit=crop"},{id:4,name:"Oyun Faresi",price:90,image:"https://images.unsplash.com/photo-1628832306751-ec751454119c?q=80&w=1245&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"}],ce="/Interface-Foundryy/storybook/?path=/story/sayfalar-dinamik-alışveriş-sepeti--docs",de=({onCartClick:t})=>{const{items:i}=M(),n=i.reduce((l,c)=>l+c.quantity,0);return e.jsxs("nav",{className:"fixed top-0 left-0 w-full bg-black/50 backdrop-blur-sm p-4 flex justify-between items-center z-40",children:[e.jsx(Y,{to:"/",className:"bg-gray-800 text-white px-4 py-2 rounded-lg hover:bg-gray-700",children:"← Ana Sayfa"}),e.jsxs("a",{href:ce,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-gray-800 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors",title:"Bu Component'in Storybook'unu Aç",children:[e.jsx(J,{className:"text-pink-500 text-xl"}),e.jsx("span",{className:"hidden sm:inline",children:"Storybook"})]}),e.jsxs("button",{onClick:t,className:"relative text-white text-2xl",children:[e.jsx(Q,{}),e.jsx(S,{children:n>0&&e.jsx(j.span,{initial:{scale:0},animate:{scale:1},exit:{scale:0},className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:n})})]})]})},ue=({product:t})=>{const{addToCart:i}=M();return e.jsxs(j.div,{layout:!0,className:"bg-gray-800 rounded-lg overflow-hidden border border-gray-700",children:[e.jsx("img",{src:t.image,alt:t.name,className:"w-full h-48 object-cover"}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-white font-bold text-lg",children:t.name}),e.jsxs("p",{className:"text-teal-400 font-semibold mt-1",children:["$",t.price]}),e.jsx("button",{onClick:()=>i(t),className:"w-full mt-4 bg-teal-600 text-white py-2 rounded-lg hover:bg-teal-700 transition-colors",children:"Sepete Ekle"})]})]})},pe=({isOpen:t,onClose:i})=>{const{items:n,removeFromCart:l,updateQuantity:c}=M(),s=n.reduce((a,f)=>a+f.price*f.quantity,0).toFixed(2);return e.jsx(S,{children:t&&e.jsxs(e.Fragment,{children:[e.jsx(j.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:i,className:"fixed inset-0 bg-black/60 z-40"}),e.jsxs(j.div,{initial:{x:"100%"},animate:{x:"0%"},exit:{x:"100%"},transition:{type:"spring",stiffness:300,damping:30},className:"fixed top-0 right-0 w-full max-w-md h-full bg-gray-900 border-l border-gray-700 shadow-lg z-50 flex flex-col",children:[e.jsxs("div",{className:"p-4 flex justify-between items-center border-b border-gray-700",children:[e.jsx("h2",{className:"text-white text-xl font-bold",children:"Sepetim"}),e.jsx("button",{onClick:i,className:"text-white text-2xl",children:e.jsx(q,{})})]}),e.jsx("div",{className:"flex-grow p-4 overflow-y-auto",children:e.jsx(S,{children:n.length===0?e.jsx(j.p,{layout:!0,className:"text-gray-400 text-center mt-8",children:"Sepetiniz boş."}):e.jsx("ul",{className:"space-y-4",children:n.map(a=>e.jsxs(j.li,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-20},className:"flex items-center gap-4 bg-gray-800 p-2 rounded-lg",children:[e.jsx("img",{src:a.image,alt:a.name,className:"w-16 h-16 object-cover rounded-md"}),e.jsxs("div",{className:"flex-grow",children:[e.jsx("h4",{className:"text-white font-semibold",children:a.name}),e.jsxs("p",{className:"text-gray-400 text-sm",children:["$",a.price]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-white",children:[e.jsx("button",{onClick:()=>c(a.id,a.quantity-1),className:"px-2 bg-gray-700 rounded",children:"-"}),e.jsx("span",{children:a.quantity}),e.jsx("button",{onClick:()=>c(a.id,a.quantity+1),className:"px-2 bg-gray-700 rounded",children:"+"})]}),e.jsx("button",{onClick:()=>l(a.id),className:"text-red-500 text-lg ml-2",children:e.jsx(q,{})})]},a.id))})})}),e.jsxs("div",{className:"p-4 border-t border-gray-700",children:[e.jsxs("div",{className:"flex justify-between items-center text-white font-bold text-lg",children:[e.jsx("span",{children:"Toplam:"}),e.jsxs("span",{children:["$",s]})]}),e.jsx("button",{className:"w-full mt-4 bg-teal-600 text-white py-3 rounded-lg hover:bg-teal-700 transition-colors",children:"Ödemeye Geç"})]})]})]})})};function F(){const[t,i]=r.useState(!1);return e.jsxs("div",{className:"bg-black min-h-screen text-white",children:[e.jsx(de,{onCartClick:()=>i(!0)}),e.jsx(pe,{isOpen:t,onClose:()=>i(!1)}),e.jsxs("main",{className:"pt-24 p-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-center mb-12 bg-clip-text text-transparent bg-gradient-to-b from-neutral-50 to-neutral-400",children:"Ürünler"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:le.map(n=>e.jsx(ue,{product:n},n.id))})]})]})}F.__docgenInfo={description:"",methods:[],displayName:"ShoppingCartPage"};const ke={title:"Sayfalar/Dinamik Alışveriş Sepeti",component:F,parameters:{layout:"fullscreen",docs:{description:{component:"Ürünlerin listelendiği, sepete eklenebildiği ve sepet içeriğinin animasyonlu bir kenar çubuğunda görüntülenebildiği tam sayfa bir alışveriş deneyimi."}}},decorators:[t=>e.jsx(Z,{children:e.jsx(I,{children:e.jsx(B,{children:e.jsx(t,{})})})})],tags:["autodocs"]},w={storyName:"1. Varsayılan ve Etkileşimli Hali",parameters:{docs:{description:{story:`Bu, component'in canlı ve tamamen etkileşimli halidir. Lütfen aşağıdaki senaryoları deneyin:
- **Sepete Ekle:** Birkaç farklı ürün için "Sepete Ekle" butonuna tıklayın. Sağ üstte "Sepete Eklendi!" bildiriminin çıktığını ve Navbar'daki sepet sayacının arttığını gözlemleyin.
- **Sepeti Aç:** Sağ üstteki sepet ikonuna tıklayarak sepet kenar çubuğunu açın.
- **Miktarı Değiştir:** Sepet içindeki ürünlerin miktarını '+' ve '-' butonları ile değiştirin. Toplam fiyatın güncellendiğini görün.
- **Ürünü Kaldır:** Ürünü 'X' butonu ile sepetten tamamen kaldırın.`}}}};w.parameters={...w.parameters,docs:{...w.parameters?.docs,source:{originalSource:`{
  storyName: '1. Varsayılan ve Etkileşimli Hali',
  parameters: {
    docs: {
      description: {
        story: \`Bu, component'in canlı ve tamamen etkileşimli halidir. Lütfen aşağıdaki senaryoları deneyin:
- **Sepete Ekle:** Birkaç farklı ürün için "Sepete Ekle" butonuna tıklayın. Sağ üstte "Sepete Eklendi!" bildiriminin çıktığını ve Navbar'daki sepet sayacının arttığını gözlemleyin.
- **Sepeti Aç:** Sağ üstteki sepet ikonuna tıklayarak sepet kenar çubuğunu açın.
- **Miktarı Değiştir:** Sepet içindeki ürünlerin miktarını '+' ve '-' butonları ile değiştirin. Toplam fiyatın güncellendiğini görün.
- **Ürünü Kaldır:** Ürünü 'X' butonu ile sepetten tamamen kaldırın.\`
      }
    }
  }
}`,...w.parameters?.docs?.source}}};const je=["VarsayilanEtkilesimliHali"];export{w as VarsayilanEtkilesimliHali,je as __namedExportsOrder,ke as default};
