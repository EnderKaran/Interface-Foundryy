import{j as p}from"./jsx-runtime-D_zvdyIk.js";import{r as l}from"./iframe-CYcdgO3W.js";import{c as h}from"./utils-Bzm_o1ou.js";import{i as B,f as N,a as A,J as F,u as I,M as R,m as J,b as T,c as z,d as x,e as X}from"./proxy-BVuee1zl.js";function D(...e){const t=!Array.isArray(e[0]),o=t?0:-1,s=e[0+o],n=e[1+o],r=e[2+o],a=e[3+o],c=B(n,r,a);return t?c(s):c}function O(e,t,o){const s=e.get();let n=null,r=s,a;const c=typeof s=="string"?s.replace(/[\d.-]/g,""):void 0,i=()=>{n&&(n.stop(),n=null)},m=()=>{i(),n=new F({keyframes:[S(e.get()),S(r)],velocity:e.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...o,onUpdate:a})};if(e.attach((u,f)=>(r=u,a=d=>f(V(d,c)),N.postRender(m),e.get()),i),A(t)){const u=t.on("change",d=>e.set(V(d,c))),f=e.on("destroy",u);return()=>{u(),f()}}return i}function V(e,t){return t?e+t:e}function S(e){return typeof e=="number"?e:parseFloat(e)}function C(e){const t=I(()=>J(e)),{isStatic:o}=l.useContext(R);if(o){const[,s]=l.useState(e);l.useEffect(()=>t.on("change",s),[])}return t}function Y(e,t){const o=C(t()),s=()=>o.set(t());return s(),T(()=>{const n=()=>N.preRender(s,!1,!0),r=e.map(a=>a.on("change",n));return()=>{r.forEach(a=>a()),z(s)}}),o}function U(e){x.current=[],e();const t=Y(x.current,e);return x.current=void 0,t}function g(e,t,o,s){if(typeof e=="function")return U(e);const n=typeof t=="function"?t:D(t,o,s);return Array.isArray(e)?M(e,n):M([e],([r])=>n(r))}function M(e,t){const o=I(()=>[]);return Y(e,()=>{o.length=0;const s=e.length;for(let n=0;n<s;n++)o[n]=e[n].get();return t(o)})}function j(e,t={}){const{isStatic:o}=l.useContext(R),s=()=>A(e)?e.get():e;if(o)return g(s);const n=C(s());return l.useInsertionEffect(()=>O(n,e,t),[n,JSON.stringify(t)]),n}const q=l.createContext(void 0),Z=({children:e,className:t,containerClassName:o})=>{const s=l.useRef(null),n=C(0),r=C(0),a=j(n,{stiffness:300,damping:30}),c=j(r,{stiffness:300,damping:30}),i=g(c,[-.5,.5],["17.5deg","-17.5deg"]),m=g(a,[-.5,.5],["-17.5deg","17.5deg"]),u=y=>{if(!s.current)return;const{left:v,top:E,width:_,height:b}=s.current.getBoundingClientRect(),L=(y.clientX-v)/_-.5,w=(y.clientY-E)/b-.5;n.set(L),r.set(w)},f=()=>{n.set(0),r.set(0)},d={rotateX:i,rotateY:m};return p.jsx(q.Provider,{value:d,children:p.jsx(X.div,{ref:s,onMouseMove:u,onMouseLeave:f,style:{perspective:"1000px",rotateX:i,rotateY:m},className:h("flex items-center justify-center",o),children:p.jsx("div",{style:{transformStyle:"preserve-3d"},className:h("relative flex items-center justify-center",t),children:e})})})},k=({children:e,className:t})=>p.jsx("div",{className:h("h-96 w-96 [transform-style:preserve-3d] [&>*]:[transform-style:preserve-3d]",t),children:e}),P=({as:e="div",children:t,className:o,translateX:s=0,translateY:n=0,translateZ:r=0,rotateX:a=0,rotateY:c=0,rotateZ:i=0,...m})=>{const{rotateX:u,rotateY:f}=l.useContext(q),d=g(f,[-10,10],[s,-s]),y=g(u,[-10,10],[-n,n]),v=X[e];return p.jsx(v,{style:{translateX:d,translateY:y,translateZ:r,rotateX:a,rotateY:c,rotateZ:i},transition:{type:"spring",stiffness:400,damping:20},className:h(o),...m,children:t})};Z.__docgenInfo={description:"",methods:[],displayName:"CardContainer"};k.__docgenInfo={description:"",methods:[],displayName:"CardBody"};P.__docgenInfo={description:"",methods:[],displayName:"CardItem",props:{as:{defaultValue:{value:'"div"',computed:!1},required:!1},translateX:{defaultValue:{value:"0",computed:!1},required:!1},translateY:{defaultValue:{value:"0",computed:!1},required:!1},translateZ:{defaultValue:{value:"0",computed:!1},required:!1},rotateX:{defaultValue:{value:"0",computed:!1},required:!1},rotateY:{defaultValue:{value:"0",computed:!1},required:!1},rotateZ:{defaultValue:{value:"0",computed:!1},required:!1}}};export{Z as C,k as a,P as b};
